webpackJsonp([12],{15:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(16);t.default=function(){return![o.KLARNA_BOOTSTRAP_CLASS,o.CITY_BOOTSTRAP_CLASS,o.COMPLETED_ORDERS_BOOTSTRAP_CLASS,o.CHECKOUT_BOOTSTRAP_CLASS,o.HOME_BOOTSTRAP_CLASS,o.SELF_SERVICE_BOOTSTRAP_CLASS,o.VENDOR_LISTING_BOOTSTRAP_CLASS,o.VENDOR_BOOTSTRAP_CLASS,o.OTP_BOOTSTRAP_CLASS,o.PROFILE_BOOTSTRAP_CLASS].some(function(e){return document.body.classList.contains(e)})}},16:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CITY_BOOTSTRAP_CLASS="js-page-city",t.CHECKOUT_BOOTSTRAP_CLASS="checkout",t.HOME_BOOTSTRAP_CLASS="home",t.VENDOR_LISTING_BOOTSTRAP_CLASS="js-page-vendor-listing",t.VENDOR_BOOTSTRAP_CLASS="menu",t.KLARNA_BOOTSTRAP_CLASS="klarna",t.OTP_BOOTSTRAP_CLASS="order-status-page",t.SELF_SERVICE_BOOTSTRAP_CLASS="self-service",t.PROFILE_BOOTSTRAP_CLASS="profile-page",t.COMPLETED_ORDERS_BOOTSTRAP_CLASS="completed-orders"},222:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.setupZopimService=t.ZopimService=t.isOnPage=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(20),s=n(287),c=o(s),u=n(1),d=n(7),l=n(302),p=n(303),f=n(283),v=o(f),m=n(304),g=n(305),y=t.isOnPage=function(e){return!!document.getElementsByClassName(e).length},O=t.ZopimService=function(){function e(t,n){r(this,e),this.appConfig=t,this.customer=n}return i(e,[{key:"init",value:function(){var e=this,t=function(){var e={},t=new Promise(function(t,n){e.resolve=t,e.reject=n});return e.promise=t,e}();if(window.$zopim)return t.resolve(),t.promise;var n=this.appConfig.countryCode,o="anon."===this.customer.get("id")?"":this.customer.get("id").toUpperCase(),r=this.appConfig.locale.split("_")[0].toUpperCase(),i=y("self-service"),a=(0,u.get)(VOLO,"orderStatusState.order_code");return function(e,o){var r=window.$zopim=function(e){r._.push(e)},i=r.s=e.createElement("script"),a=e.getElementsByTagName("script")[0];r.set=function(e){r.set._.push(e)},r._=[],r.set._=[],i.async=!0,i.setAttribute("charset","utf-8"),i.src="//v2.zopim.com/?"+(0,v.default)(g.urlSources,n),r.t=+new Date,i.type="text/javascript",a.parentNode.insertBefore(i,a),i.onload=function(){t.resolve()}}(document),window.$zopim(function(){window.$zopim&&window.$zopim.livechat&&(window.$zopim.livechat.setLanguage(""+(0,v.default)(m.languages,n)),window.$zopim.livechat.addTags((0,c.default)()+"_chat","UID_"+o,"L_"+r+"_"+n.toUpperCase(),"C_"+n.toUpperCase(),""+(0,u.get)(VOLO,"orderStatusState.vendor.vertical")),!i&&a&&window.$zopim.livechat.addTags("OC_"+(0,u.get)(VOLO,"orderStatusState.order_code")),window.$zopim.livechat.setName(""+e.customer.getFullName()),window.$zopim.livechat.setEmail(""+e.customer.get("email")),window.$zopim.livechat.setPhone(""+e.customer.getFullMobileNumber()),n in l.colors&&window.$zopim.livechat.theme.setColors(l.colors[n]),window.$zopim.livechat.setOnConnected(function(){var e=(0,u.get)(window,"$zopim.livechat.departments",null),t=p.countryDepartments[n];e&&e.getDepartment(t)&&"offline"!==e.getDepartment(t).status?(window.$zopim.livechat.departments.filter(""),window.$zopim.livechat.departments.setVisitorDepartment(""+p.countryDepartments[n]),window.$zopim.livechat.theme.reload()):window.$zopim.livechat.setStatus("offline")}))}),t.promise}},{key:"removeZopim",value:function(){$(".zopim").remove(),delete window.$zopim}},{key:"getVerticalOnCheckout",value:function(){var e=document.querySelector("div[data-vendor]"),t=e?e.getAttribute("data-vendor"):"{}",n={};try{n=JSON.parse(t)}catch(e){n={}}return(0,u.get)(n,"vertical","restaurants")}},{key:"getVertical",value:function(){return y("menu")?(0,u.get)(VOLO,"vertical","restaurants"):y("order-status-page")?(0,u.get)(VOLO,"orderStatusState.vendor.vertical","restaurants"):y("checkout")?this.getVerticalOnCheckout():"restaurants"}},{key:"shouldInitialize",value:function(e){var t=this.appConfig.features.flags["self-service"],n=!this.customer.isGuest(),o=(0,u.some)((0,u.map)(["checkout","static-page","my-orders"],y))&&n,r=y("menu")&&!a.mobile&&n,i=y("order-status-page")||y("self-service"),s=y("static-page")&&window.location.pathname.indexOf("contact")>-1&&n,c=this.getVertical();return"po"!==e?t&&"restaurants"===c?y("self-service"):i||o||r:t&&"restaurants"===c?y("self-service"):s||i}}]),e}();t.setupZopimService=function(e){return(0,d.validateComponentDependencies)(e,"config","models.customerModel"),Object.assign({},e,{services:Object.assign({},e.services,{zopimService:new O(e.config,e.models.customerModel)})})}},26:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(15);Object.defineProperty(t,"isBootstrapPage",{enumerable:!0,get:function(){return o(r).default}});var i=n(31);Object.defineProperty(t,"addMainScriptLoadListeners",{enumerable:!0,get:function(){return i.addMainScriptLoadListeners}}),Object.defineProperty(t,"addPageScriptLoadListeners",{enumerable:!0,get:function(){return i.addPageScriptLoadListeners}}),Object.defineProperty(t,"addXMLHttpRequestListener",{enumerable:!0,get:function(){return i.addXMLHttpRequestListener}});var a=n(16);Object.defineProperty(t,"KLARNA_BOOTSTRAP_CLASS",{enumerable:!0,get:function(){return a.KLARNA_BOOTSTRAP_CLASS}}),Object.defineProperty(t,"CHECKOUT_BOOTSTRAP_CLASS",{enumerable:!0,get:function(){return a.CHECKOUT_BOOTSTRAP_CLASS}}),Object.defineProperty(t,"CITY_BOOTSTRAP_CLASS",{enumerable:!0,get:function(){return a.CITY_BOOTSTRAP_CLASS}}),Object.defineProperty(t,"HOME_BOOTSTRAP_CLASS",{enumerable:!0,get:function(){return a.HOME_BOOTSTRAP_CLASS}}),Object.defineProperty(t,"VENDOR_BOOTSTRAP_CLASS",{enumerable:!0,get:function(){return a.VENDOR_BOOTSTRAP_CLASS}}),Object.defineProperty(t,"VENDOR_LISTING_BOOTSTRAP_CLASS",{enumerable:!0,get:function(){return a.VENDOR_LISTING_BOOTSTRAP_CLASS}}),Object.defineProperty(t,"OTP_BOOTSTRAP_CLASS",{enumerable:!0,get:function(){return a.OTP_BOOTSTRAP_CLASS}}),Object.defineProperty(t,"SELF_SERVICE_BOOTSTRAP_CLASS",{enumerable:!0,get:function(){return a.SELF_SERVICE_BOOTSTRAP_CLASS}}),Object.defineProperty(t,"PROFILE_BOOTSTRAP_CLASS",{enumerable:!0,get:function(){return a.PROFILE_BOOTSTRAP_CLASS}}),Object.defineProperty(t,"COMPLETED_ORDERS_BOOTSTRAP_CLASS",{enumerable:!0,get:function(){return a.COMPLETED_ORDERS_BOOTSTRAP_CLASS}});var s=n(32);Object.defineProperty(t,"APP_VERSION_COOKIE_NAME",{enumerable:!0,get:function(){return s.APP_VERSION_COOKIE_NAME}}),Object.defineProperty(t,"LD_CHECKSUM_COOKIE_NAME",{enumerable:!0,get:function(){return s.LD_CHECKSUM_COOKIE_NAME}})},301:function(e,t,n){"use strict";var o=n(2);(0,n(1).extend)(o.LocalStorage.prototype,{localStorage:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){try{return window.fakeLocalStorage?window.fakeLocalStorage:(localStorage.setItem("test","test"),localStorage.removeItem("test"),localStorage)}catch(e){return window.fakeLocalStorage||(window.fakeLocalStorage={_data:{},setItem:function(e,t){this._data[e]=String(t)},getItem:function(e){return this._data.hasOwnProperty(e)?this._data[e]:void 0},removeItem:function(e){return delete this._data[e]},clear:function(){this._data={}}}),window.fakeLocalStorage}})})},302:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.colors={op:{theme:"#D70F64",launcher:"#D70F64",button:"#D70F64",resultLists:"#D70F64",header:"#D70F64",articleLinks:"#D70F64",badge:"#D70F64",primary:"#D70F64",bubble:"#D70F64"},po:{theme:"#D70F64",launcher:"#D70F64",button:"#D70F64",resultLists:"#D70F64",header:"#D70F64",articleLinks:"#D70F64",badge:"#D70F64",primary:"#D70F64",bubble:"#D70F64"}}},303:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.countryDepartments={mj:"mjam Austria",de:"foodora Germany",at:"foodora Austria",fi:"foodora Finland",se:"foodora Sweden",no:"foodora Norway",ca:"foodora Canada",hk:"foodpanda Hong Kong",sg:"foodpanda Singapore",cz:"foodpanda Czech",hu:"foodpanda Hungary",tw:"foodpanda Taiwan",my:"foodpanda Malaysia",th:"foodpanda Thailand",ph:"foodpanda Philippines",bd:"foodpanda Bangladesh",pk:"foodpanda Pakistan",ro:"foodpanda Romania",bg:"foodpanda Bulgaria",op:"foodora Sweden",po:"foodora Finland",la:"foodpanda Laos",kh:"foodpanda Cambodia",mm:"foodpanda Myanmar",jp:"foodpanda Japan"}},304:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.languages={at:"de",fi:"fi",se:"sv",no:"nb",ca:"en",hk:"en",sg:"en",cz:"en",hu:"en",tw:"zh_TW",my:"en",th:"en",ph:"en",bd:"en",pk:"en",ro:"ro",bg:"bg",op:"sv","corporate.foodora.no":"no",po:"fi",la:"en",kh:"en",mm:"en",mj:"de",jp:"ja"}},305:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.urlSources={default:"3TvAS7APeHUYdWaM1JW7N6ahkii0EmOu",dev:"DAqVofTYAp0BtgHSUhIDgDlI86n2KF9r"}},306:function(e,t,n){"use strict";function o(e){e&&e.length>0&&(0,r.executeOnload)(function(){return i(e)})}Object.defineProperty(t,"__esModule",{value:!0}),t.preloadStyles=o;var r=n(257),i=function(e){e.forEach(function(e){var t=document.createElement("link");t.href=e,t.rel="preload",t.setAttribute("as","style"),document.head.appendChild(t)})}},307:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.shouldShowButton=void 0;var i=n(7),a=n(0),s=r(a),c=n(3),u=r(c),d=n(308),l=o(d),p=n(21),f=o(p),v=n(14),m=n(222),g=t.shouldShowButton=function(){var e=["menu","checkout"];return!VOLO.isGuest&&VOLO.configuration.features.flags["help-center-access"]&&e.some(m.isOnPage)},y=function(e){if(!g())return e;(0,i.validateComponentDependencies)(e,"services.gtmService");var t=new v.GTMContactOptionTracker(e.services.gtmService),n=document.getElementById("self-service-entry-button-react-root"),o=s.createElement(f.default.Provider,{value:VOLO.selfServiceEntryButtonProps.translations},s.createElement(l.default,{gtmContactOptionTracker:t}));return u.render(o,n),Object.assign({},e,{views:Object.assign({},e.views,{selfServiceBtn:{unbind:function(){u.unmountComponentAtNode(n)}}})})};t.default=y},308:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(0),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),u=n(309),d=function(e){function t(){o(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.openHelpCenter=function(){window.open(Routing.generate("help_center")),e.sendGTMEvents()},e}return i(t,e),a(t,[{key:"sendGTMEvents",value:function(){this.props.gtmContactOptionTracker.sendGtmEvent("help_center_flyer",VOLO.components.models.locationModel)}},{key:"render",value:function(){return c.createElement(u.SelfServiceEntryButton,{onClick:this.openHelpCenter})}}]),t}(c.Component);t.default=d},309:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SelfServiceEntryButton=void 0;var r=n(0),i=o(r),a=n(28),s=n(21),c=o(s);t.SelfServiceEntryButton=function(e){var t=e.onClick;return i.default.createElement(a.Button,{isGhost:!0,isFull:!1,size:"small",className:"self-service-entry-button",onClick:t},i.default.createElement(c.default.Text,{tKey:"buttonText"}))}},31:function(e,t,n){"use strict";function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.addXMLHttpRequestListener=t.addPageScriptLoadListeners=t.addMainScriptLoadListeners=void 0;var r=n(1),i=n(17),a=n(15),s=function(e){return e&&e.__esModule?e:{default:e}}(a),c=function(e){e?document.dispatchEvent(new CustomEvent("main:load",{detail:{pageKey:e.detail.pageKey}})):document.dispatchEvent(new Event("main:load"))},u=function(e,t){(0,s.default)()||(document.removeEventListener("page-script:init",c),document.addEventListener("page-script:init",c),$(document).one("page:before-unload",function(){t(),document.dispatchEvent(new Event("main:unload"))}),e(),c())};t.addMainScriptLoadListeners=function(e,t,n,o){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:u;$(document).on("page:load page:restore",function(){r(t,n)}),document.addEventListener("DOMContentLoaded",e),"complete"===document.readyState&&r(t,n)},t.addPageScriptLoadListeners=function(e,t,n){document.addEventListener("main:load",function(o){(0,r.get)(o,"detail.pageKey",e)===e&&(n&&document.addEventListener("main:unload",function(){document.body.classList.contains(e)&&n()}),document.body.classList.contains(e)&&t())}),document.dispatchEvent(new CustomEvent("page-script:init",{detail:{pageKey:e}}))},t.addXMLHttpRequestListener=function(e,t,n){XMLHttpRequest.prototype.open=function(t,o){e.call(this,t,o);var r=(0,i.shouldAttachDpsSessionHeader)(o);if(o&&r){var a=(0,i.getDpsSessionHeader)(n.locationModel,o);this.setRequestHeader(VOLO.configuration.dpsSessionIdCookieName,a)}},window.fetch=function(){var e=Array.prototype.slice.call(arguments),r=e[0],a=e[1],s=(0,i.shouldAttachDpsSessionHeader)(r);if(r&&s){var c=(0,i.getDpsSessionHeader)(n.locationModel,r);a.headers=Object.assign({},a.headers,o({},VOLO.configuration.dpsSessionIdCookieName,c))}return t.apply(this,[r,a])}}},310:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setupThirdParts=void 0;var o=n(81),r=n(208),i=n(14),a=n(7);t.setupThirdParts=function(e){(0,a.validateComponentDependencies)(e,"services.gtmService");var t=new i.GTMContactOptionTracker(VOLO.gtmService);return document.querySelector(".contact-link")&&document.querySelector(".contact-link a").addEventListener("click",function(n){n.preventDefault(),VOLO.components.services.eventsLord.emit(r.ALAN_CHAT_OPEN);var i=(0,o.getCustomerServiceComponentValue)(),a=i!==o.HELP_CENTER_COMPONENTS.ZOPIM?"help_center":"contact";t.sendGtmEvent(e.models.customerModel.id,a,e.models.locationModel)}),e}},32:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.pageReloader=t.getPageReloaderParams=t.LD_CHECKSUM_COOKIE_NAME=t.APP_VERSION_COOKIE_NAME=void 0;var r=n(10),i=o(r),a=n(19),s=o(a),c=n(1),u=t.APP_VERSION_COOKIE_NAME="AppVersion";t.LD_CHECKSUM_COOKIE_NAME="ld_flags_sum",t.getPageReloaderParams=function(e,t){return{url:(0,c.get)(e,"originalEvent.data.url",null),appVersion:t.appVersion||null}},t.pageReloader=function(e,t){t!==(s.default.get(u)||t)&&((0,i.default)(document).off(),window.location.assign(e))}},649:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var r=n(408),i=o(r),a=n(75),s=n(207),c=n(282),u=o(c),d=n(306),l=n(48),p=n(10),f=o(p),v=n(1),m=n(289),g=n(291);n(301);var y=n(253),O=n(292),b=o(O),h=n(254),S=n(307),_=o(S),C=n(650),L=n(209),T=n(262),w=n(5),A=n(260),P=n(82),E=n(286),M=n(293),k=n(651),I=n(26),R=n(8),V=o(R),D=n(222),j=n(7),B=n(294),F=o(B),U=n(295),N=n(653),z=n(655),H=n(310),x=n(656);window.VOLO=VOLO||{};var K={views:{},models:{},collections:{},services:{},config:Object.assign({},VOLO.configuration,{expeditionType:VOLO.expeditionType})},G=[g.setupCustomerModel,D.setupZopimService,w.setupEventsLord,A.setupFacebookService,y.setupLocationModel,a.setupUserAddressCollection,s.setupCartDataStore,m.setupCartModel,L.setupCorporateService,P.setupGtmService,U.setupSelectComponent,E.setupGTMUserProfileTracker,u.default,i.default,C.setupAppboyService,_.default,H.setupThirdParts],$=function(){(0,h.onBeforeUnload)(),(0,v.invoke)((0,v.values)(VOLO.components.views),"unbind"),(0,v.invoke)((0,v.values)(VOLO.components.services),"unbind"),VOLO.components.services.eventsLord.removeAllListeners(),VOLO.components.services.zopimService.removeZopim(),VOLO.components=void 0},q=function(){VOLO.components=K,VOLO.components=Object.assign({},K,{services:Object.assign({},K.services,{intlService:VOLO.IntlService,locationService:VOLO.locationService}),config:Object.assign({},K.config,{expeditionType:VOLO.expeditionType})}),Y(),VOLO.components=(0,j.setupDependencies)(VOLO.components,G),VOLO.components.services.locationService.setupEventsLord(VOLO.components.services.eventsLord),VOLO.components.services.locationService.setCustomerId(VOLO.customer.id),(0,I.addXMLHttpRequestListener)(XMLHttpRequest.prototype.open,window.fetch,VOLO.components.services.locationService),(0,T.bindErrorTracking)(VOLO.components.services.eventsLord,window.trackJs),VOLO.components.services.gtmService.pageChanged(),(0,h.onLoad)(),(0,d.preloadStyles)(VOLO.stylesToPreload),window.blazy.revalidate(),(0,N.initializeWebVitals)(),(0,z.initializePerseusIdGenerator)();var e={corporateService:VOLO.components.services.corporateService,linkedAccount:VOLO.configuration.linkedAccount,gtmService:VOLO.components.services.gtmService};(0,x.switchAccount)(e),(0,k.initializeRefreshTokenService)()},Y=function(){var e=new V.default({appConfig:K.config});VOLO.components.services.locationService=VOLO.libraries.location.service.createLocationService({appConfig:K.config,xhrProvider:e,customerId:VOLO.customerData.id,tagManager:VOLO.tagManager,eventLord:VOLO.components.services.eventsLord}),VOLO.components.services.googleMapScriptLoader=VOLO.libraries.location.service.createGoogleMapScriptLoaderService(K.config)},J=function(e){var t=new b.default({appConfig:e,isMobile:!1,$window:(0,f.default)(window),$document:(0,f.default)(document),$body:(0,f.default)("body")});(0,F.default)(window),(0,M.initIntl)(e),t.init()};(0,I.addMainScriptLoadListeners)(function(){J(K.config)},q,$,K.config),(0,l.bindLoadingBar)()},650:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setupAppboyService=t.initializeAppboy=t.GTM_APPBOY_LOADED=void 0;var o=n(257),r=function(){return function(e,t,n,o,r){window.appboy={},window.appboyQueue=[];for(var i="initialize destroy getDeviceId toggleAppboyLogging setLogger openSession changeUser requestImmediateDataFlush requestFeedRefresh subscribeToFeedUpdates requestContentCardsRefresh subscribeToContentCardsUpdates logCardImpressions logCardClick logCardDismissal logFeedDisplayed logContentCardsDisplayed logInAppMessageImpression logInAppMessageClick logInAppMessageButtonClick logInAppMessageHtmlClick subscribeToNewInAppMessages removeSubscription removeAllSubscriptions logCustomEvent logPurchase isPushSupported isPushBlocked isPushGranted isPushPermissionGranted registerAppboyPushMessages unregisterAppboyPushMessages trackLocation stopWebTracking resumeWebTracking wipeData ab ab.User ab.User.Genders ab.User.NotificationSubscriptionTypes ab.User.prototype.getUserId ab.User.prototype.setFirstName ab.User.prototype.setLastName ab.User.prototype.setEmail ab.User.prototype.setGender ab.User.prototype.setDateOfBirth ab.User.prototype.setCountry ab.User.prototype.setHomeCity ab.User.prototype.setLanguage ab.User.prototype.setEmailNotificationSubscriptionType ab.User.prototype.setPushNotificationSubscriptionType ab.User.prototype.setPhoneNumber ab.User.prototype.setAvatarImageUrl ab.User.prototype.setLastKnownLocation ab.User.prototype.setUserAttribute ab.User.prototype.setCustomUserAttribute ab.User.prototype.addToCustomAttributeArray ab.User.prototype.removeFromCustomAttributeArray ab.User.prototype.incrementCustomUserAttribute ab.User.prototype.addAlias ab.InAppMessage ab.InAppMessage.SlideFrom ab.InAppMessage.ClickAction ab.InAppMessage.DismissType ab.InAppMessage.OpenTarget ab.InAppMessage.ImageStyle ab.InAppMessage.TextAlignment ab.InAppMessage.Orientation ab.InAppMessage.CropType ab.InAppMessage.prototype.subscribeToClickedEvent ab.InAppMessage.prototype.subscribeToDismissedEvent ab.InAppMessage.prototype.removeSubscription ab.InAppMessage.prototype.removeAllSubscriptions ab.InAppMessage.Button ab.InAppMessage.Button.prototype.subscribeToClickedEvent ab.InAppMessage.Button.prototype.removeSubscription ab.InAppMessage.Button.prototype.removeAllSubscriptions ab.SlideUpMessage ab.ModalMessage ab.FullScreenMessage ab.HtmlMessage ab.ControlMessage ab.Feed ab.Feed.prototype.getUnreadCardCount ab.ContentCards ab.ContentCards.prototype.getUnviewedCardCount ab.Card ab.ClassicCard ab.CaptionedImage ab.Banner ab.ControlCard ab.WindowUtils display display.automaticallyShowNewInAppMessages display.showInAppMessage display.showFeed display.destroyFeed display.toggleFeed display.showContentCards display.hideContentCards display.toggleContentCards sharedLib".split(" "),a=0;a<i.length;a++){for(var s=i[a],c=appboy,u=s.split("."),d=0;d<u.length-1;d++)c=c[u[d]];c[u[d]]=new Function("return function "+s.replace(/\./g,"_")+"(){appboyQueue.push(arguments); return true}")()}appboy.getUser=function(){return new appboy.ab.User},appboy.getCachedFeed=function(){return new appboy.ab.Feed},appboy.getCachedContentCards=function(){return new appboy.ab.ContentCards},(r=t.createElement(n)).type="text/javascript",r.src="https://js.appboycdn.com/web-sdk/2.6/appboy.min.js",r.async=1,(o=t.getElementsByTagName(n)[0]).parentNode.insertBefore(r,o)}(window,document,"script"),window.appboy},i=function(e,t){var n=e();n.initialize(t,{enableHtmlInAppMessages:!0}),n.display.automaticallyShowNewInAppMessages()},a=t.GTM_APPBOY_LOADED={event:"event-appboy-loaded"},s=function(e){return e.push(a)},c=t.initializeAppboy=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r,a=function(){window.appboy||(i(n,e),s(t))};(0,o.executeOnload)(a)};t.setupAppboyService=function(e){return c(e.config.appboyApiKey,e.services.gtmService),e}},651:function(e,t,n){"use strict";(function(e){function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.initializeRefreshTokenService=void 0;var r=function(){function e(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(652),s=n(197),c=function(e){return e&&e.__esModule?e:{default:e}}(s),u=function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function a(e){try{c(o.next(e))}catch(e){i(e)}}function s(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,s)}c((o=o.apply(e,t||[])).next())})},d={client_id:"volo",expires:1,id:"0",scope:"",token_type:"",user_id:""},l=function(){function t(e){var n=this;o(this,t),this.refreshLeeway=12e4,this.payload=d,this.handleVisibilityChange=function(){n.clearRefreshTimer(),document.hidden||n.reloadService()},this.decodeTokenPayload(e),this.initVisibilityListener()}return i(t,[{key:"initRefreshTimer",value:function(e){var t=this,n=(0,a.getRefreshToken)(),o=(0,a.getDeviceToken)();if(n&&o){var r=e||this.getExpirationTimestamp()-(Date.now()+this.refreshLeeway);r<=0?this.refreshUserAccessToken(n,o):this.activeTimer=setTimeout(function(){t.refreshUserAccessToken(n,o)},r)}}},{key:"decodeTokenPayload",value:function(e){if(e){var t=e.split("."),n=r(t,2),o=n[1];try{this.payload=JSON.parse(atob(o))}catch(e){this.logErrorToService(e),this.payload=d}}else this.payload=d}},{key:"getExpirationTimestamp",value:function(){return 1e3*this.payload.expires}},{key:"initVisibilityListener",value:function(){document.addEventListener("visibilitychange",this.handleVisibilityChange,!1)}},{key:"destroyVisibilityListener",value:function(){document.removeEventListener("visibilitychange",this.handleVisibilityChange,!1)}},{key:"clearRefreshTimer",value:function(){this.activeTimer&&clearTimeout(this.activeTimer)}},{key:"refreshUserAccessToken",value:function(t,n){return u(this,void 0,void 0,e.mark(function o(){var r,i,a,s;return e.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/refresh_token",{method:"POST",body:JSON.stringify({refreshToken:t,deviceToken:n}),headers:{"X-Requested-With":"XMLHttpRequest"}});case 3:if(r=e.sent,!r.ok){e.next=13;break}return e.next=7,r.json();case 7:i=e.sent,a=i.expires_in,s=1e3*a-this.refreshLeeway,this.reloadService(s),e.next=14;break;case 13:400!==r.status&&404!==r.status||(this.destroyVisibilityListener(),this.logErrorToService(new Error("[refresh-token]: refresh token not found: "+r.status)));case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),this.logErrorToService(e.t0);case 19:case"end":return e.stop()}},o,this,[[0,16]])}))}},{key:"reloadService",value:function(e){var t=(0,c.default)();this.decodeTokenPayload(t),this.initRefreshTimer(e)}},{key:"logErrorToService",value:function(e){window.trackJs&&window.trackJs.console.error(e)}}]),t}();t.initializeRefreshTokenService=function(){var e=(0,c.default)(),t=(0,a.getRefreshToken)(),n=(0,a.getDeviceToken)();Math.abs(Date.now()-1e3*VOLO.configuration.serverTime)<3e5&&e&&t&&n&&new l(e).initRefreshTimer()}}).call(t,n(4))},652:function(e,t,n){"use strict";function o(){return a.default.get("refresh_token")}function r(){return a.default.get("device_token")}Object.defineProperty(t,"__esModule",{value:!0}),t.getRefreshToken=o,t.getDeviceToken=r;var i=n(19),a=function(e){return e&&e.__esModule?e:{default:e}}(i)},653:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initializeWebVitals=void 0;var o=n(654),r={},i=function(e){var t=e.name.toLowerCase()+"Value";r[t]=e.value},a=(t.initializeWebVitals=function(){window.addEventListener("beforeunload",a),(0,o.getCLS)(i),(0,o.getFCP)(i),(0,o.getFID)(i),(0,o.getLCP)(i)},function(){VOLO.gtmService.push(Object.assign({event:"web_vitals.loaded"},r))})},654:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"getCLS",function(){return v}),n.d(t,"getFCP",function(){return g}),n.d(t,"getFID",function(){return y}),n.d(t,"getLCP",function(){return b}),n.d(t,"getTTFB",function(){return h});var o,r,i=function(){return"".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)},a=function(e){return{name:e,value:arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,delta:0,entries:[],id:i(),isFinal:!1}},s=function(e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var n=new PerformanceObserver(function(e){return e.getEntries().map(t)});return n.observe({type:e,buffered:!0}),n}}catch(e){}},c=!1,u=!1,d=function(e){c=!e.persisted},l=function(){addEventListener("pagehide",d),addEventListener("beforeunload",function(){})},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];u||(l(),u=!0),addEventListener("visibilitychange",function(t){var n=t.timeStamp;"hidden"===document.visibilityState&&e({timeStamp:n,isUnloading:c})},{capture:!0,once:t})},f=function(e,t,n,o){var r;return function(){n&&t.isFinal&&n.disconnect(),t.value>=0&&(o||t.isFinal||"hidden"===document.visibilityState)&&(t.delta=t.value-(r||0),(t.delta||t.isFinal||void 0===r)&&(e(t),r=t.value))}},v=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=a("CLS",0),r=function(e){e.hadRecentInput||(o.value+=e.value,o.entries.push(e),t())},i=s("layout-shift",r);i&&(t=f(e,o,i,n),p(function(e){var n=e.isUnloading;i.takeRecords().map(r),n&&(o.isFinal=!0),t()}))},m=function(){return void 0===o&&(o="hidden"===document.visibilityState?0:1/0,p(function(e){var t=e.timeStamp;return o=t},!0)),{get timeStamp(){return o}}},g=function(e){var t,n=a("FCP"),o=m(),r=s("paint",function(e){"first-contentful-paint"===e.name&&e.startTime<o.timeStamp&&(n.value=e.startTime,n.isFinal=!0,n.entries.push(e),t())});r&&(t=f(e,n,r))},y=function(e){var t=a("FID"),n=m(),o=function(e){e.startTime<n.timeStamp&&(t.value=e.processingStart-e.startTime,t.entries.push(e),t.isFinal=!0,i())},r=s("first-input",o),i=f(e,t,r);r?p(function(){r.takeRecords().map(o),r.disconnect()},!0):window.perfMetrics&&window.perfMetrics.onFirstInputDelay&&window.perfMetrics.onFirstInputDelay(function(e,o){o.timeStamp<n.timeStamp&&(t.value=e,t.isFinal=!0,t.entries=[{entryType:"first-input",name:o.type,target:o.target,cancelable:o.cancelable,startTime:o.timeStamp,processingStart:o.timeStamp+e}],i())})},O=function(){return r||(r=new Promise(function(e){return["scroll","keydown","pointerdown"].map(function(t){addEventListener(t,e,{once:!0,passive:!0,capture:!0})})})),r},b=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=a("LCP"),r=m(),i=function(e){var n=e.startTime;n<r.timeStamp?(o.value=n,o.entries.push(e)):o.isFinal=!0,t()},c=s("largest-contentful-paint",i);if(c){t=f(e,o,c,n);var u=function(){o.isFinal||(c.takeRecords().map(i),o.isFinal=!0,t())};O().then(u),p(u,!0)}},h=function(e){var t,n=a("TTFB");t=function(){try{var t=performance.getEntriesByType("navigation")[0]||function(){var e=performance.timing,t={entryType:"navigation",startTime:0};for(var n in e)"navigationStart"!==n&&"toJSON"!==n&&(t[n]=Math.max(e[n]-e.navigationStart,0));return t}();n.value=n.delta=t.responseStart,n.entries=[t],n.isFinal=!0,e(n)}catch(e){}},"complete"===document.readyState?setTimeout(t,0):addEventListener("pageshow",t)}},655:function(e,t,n){"use strict";function o(){return(new Date).getTime()+"."+Math.round(1e18*Math.random())+"."+Math.random().toString(36).slice(-10)}function r(e,t,n){var o=new Date;o.setTime(o.getTime()+n),(0,d.set)(e,t,{expires:o})}function i(e){r(l,e,18e5)}function a(){i((0,d.get)(l)||o())}function s(){r(p,o(),36e5)}function c(){if(void 0!==("undefined"==typeof window?"undefined":u(window))&&window.dataLayer){var e=window.dataLayer.push;window.dataLayer.push=function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return s(),a(),e.apply(window.dataLayer,n)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.HIT_MATCH_ID_KEY=t.SESSION_ID_KEY=void 0;var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.generatePerseusId=o,t.setCookieWithExpiry=r,t.setPerseusSessionIdCookie=i,t.updatePerseusSessionIdCookie=a,t.setPerseusHitMatchCookie=s,t.initializePerseusIdGenerator=c;var d=n(19),l=t.SESSION_ID_KEY="dhhPerseusSessionId",p=t.HIT_MATCH_ID_KEY="dhhPerseusHitId"},656:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function a(e){try{c(o.next(e))}catch(e){i(e)}}function s(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,s)}c((o=o.apply(e,t||[])).next())})};t.switchAccount=function(t){var o=t.corporateService,r=t.linkedAccount,i=t.gtmService;r&&$("#switch-user-account a").click(function(){return n(this,void 0,void 0,e.mark(function t(){var n,r,a,s;return e.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=$(this).hasClass("active")){e.next=17;break}return r=$(this).hasClass("account-item-tab")?"home_profile.clicked":"dropdown_profile.clicked",a="volo",s=o.appConfig.apiKey,i.push({event:r}),e.prev=6,e.next=9,o.switchAccount();case 9:if(s!==a){e.next=12;break}return e.next=12,o.refreshUserOAuthToken();case 12:location.reload(!0),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(6);case 17:case"end":return e.stop()}},t,this,[[6,15]])}))})}}).call(t,n(4))},75:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments[2],o=arguments[3],r=[],i=void 0;r=o.apiKey!==VOLO.configuration.apiKeyCorporate||$("body").hasClass("checkout")?e:t,i=new v([],{customer:n,appConfig:o});try{n.isGuest()?i.fetch():i=new v(r,{customer:n,appConfig:o})}catch(e){trackJs.console.error("Error on createUserAddressCollection : "+e)}return i}Object.defineProperty(t,"__esModule",{value:!0}),t.setupUserAddressCollection=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();t.createUserAddressCollection=a;var c=n(2),u=n(1),d=n(120),l=function(e){return e&&e.__esModule?e:{default:e}}(d),p=n(7),f=n(83),v=function(e){function t(e,n){o(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.comparator=function(e,t){return e.id>=t.id?-1:e.id<t.id?1:void 0},i.url=function(){return Routing.generate("_api_customers_address_list",{customerId:i.customerId})},i}return i(t,e),s(t,[{key:"initialize",value:function(e,t){(0,u.bindAll)(this),this.isGuest=t.customer.isGuest(),this.customerId=t.customer.id,this.addressFormatter=VOLO.components.services.locationService.getAddressFormatter(),this.appConfig=t.appConfig}},{key:"localStorage",value:function(){return this.isGuest?new c.LocalStorage("UserAddressCollection"):null}},{key:"filterByCityAndVendorId",value:function(e,t){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=[];return this.filter(function(e){var i=void 0;if(n.isGuest)i=e.get("vendor_id")===t;else if(n.appConfig.apiKey===VOLO.configuration.apiKeyCorporate&&o){var a=e.get("formatted_customer_address");i=e.id===o.get("address_id")||r.indexOf(a)<0,r.push(a)}else i=e.isNew()||e.get("is_delivery_available");return i},this)}},{key:"getCurrentAddress",value:function(e,t,n,o){var r=this;if(n)return this.filterByCityAndVendorId(e,t).find(function(e){return r.isAddressEquivalent(n,e,o)})}},{key:"isAddressEquivalent",value:function(e,t,n){var o=this.addressFormatter.getFormMappings(),r=e;if(r.addressId)return r.addressId===t.id;var i=(0,u.mapValues)(r,function(e,n){return t.get(o[n]||n)});return(0,u.get)(this.appConfig,"address_config.compare_addresses_by",f.ComparisonTypes.Fields)===f.ComparisonTypes.Fields&&"yes"!==(0,u.get)(this.appConfig,"features.flags.always-map","n/a")?(0,f.isLocationEquivalentByFields)(r,i,n):(0,f.isLocationEquivalentByPosition)(r,i)}},{key:"model",get:function(){return l.default}}]),t}(c.Collection);t.default=v;t.setupUserAddressCollection=function(e){return(0,p.validateComponentDependencies)(e,"config","models.customerModel"),Object.assign({},e,{collections:Object.assign({},e.collections,{userAddressCollection:a(VOLO.jsonUserAddress,VOLO.jsonCompanyAddress,e.models.customerModel,e.config)})})}},83:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isLocationEquivalentByPosition=t.isLocationEquivalentByFields=t.ComparisonTypes=void 0;var o=n(1),r=t.ComparisonTypes=void 0;!function(e){e.Fields="fields",e.Coordinates="coordinates"}(r||(t.ComparisonTypes=r={}));var i=(t.isLocationEquivalentByFields=function(e,t,n){return(0,o.every)(n,function(n){return i(e[n],t[n])})},function(e,t){return e===t||"string"==typeof e&&"string"==typeof t&&(0,o.unescape)(e)===(0,o.unescape)(t)}),a=(t.isLocationEquivalentByPosition=function(e,t){if(!(a(e.latitude)&&a(e.longitude)&&a(t.latitude)&&a(t.longitude)))return!1;var n=new google.maps.LatLng(e.latitude,e.longitude),o=new google.maps.LatLng(t.latitude,t.longitude);return google.maps.geometry.spherical.computeDistanceBetween(n,o)<=10},function(e){return void 0!==e&&null!==e&&"number"==typeof e})}},[649]);
//# sourceMappingURL=main.bundle.js.map